
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Code Depot</title>
    <style>
        :root {
            --background: 0 0% 100%;
            --foreground: 222.2 84% 4.9%;
            --card: 0 0% 100%;
            --card-foreground: 222.2 84% 4.9%;
            --popover: 0 0% 100%;
            --popover-foreground: 222.2 84% 4.9%;
            --primary: 221.2 83.2% 53.3%;
            --primary-foreground: 210 40% 98%;
            --secondary: 210 40% 96%;
            --secondary-foreground: 222.2 84% 4.9%;
            --muted: 210 40% 96%;
            --muted-foreground: 215.4 16.3% 46.9%;
            --accent: 210 40% 96%;
            --accent-foreground: 222.2 84% 4.9%;
            --destructive: 0 84.2% 60.2%;
            --destructive-foreground: 210 40% 98%;
            --border: 214.3 31.8% 91.4%;
            --input: 214.3 31.8% 91.4%;
            --ring: 221.2 83.2% 53.3%;
            --radius: 0.5rem;
        }
        
        .dark {
            --background: 222.2 84% 4.9%;
            --foreground: 210 40% 98%;
            --card: 222.2 84% 4.9%;
            --card-foreground: 210 40% 98%;
            --popover: 222.2 84% 4.9%;
            --popover-foreground: 210 40% 98%;
            --primary: 217.2 91.2% 59.8%;
            --primary-foreground: 222.2 84% 4.9%;
            --secondary: 217.2 32.6% 17.5%;
            --secondary-foreground: 210 40% 98%;
            --muted: 217.2 32.6% 17.5%;
            --muted-foreground: 215 20.2% 65.1%;
            --accent: 217.2 32.6% 17.5%;
            --accent-foreground: 210 40% 98%;
            --destructive: 0 62.8% 30.6%;
            --destructive-foreground: 210 40% 98%;
            --border: 217.2 32.6% 17.5%;
            --input: 217.2 32.6% 17.5%;
            --ring: 224.3 76.3% 94.1%;
        }
        
        * {
            border-color: hsl(var(--border));
        }
        
        body {
            background-color: hsl(var(--background));
            color: hsl(var(--foreground));
            font-family: ui-sans-serif, system-ui, sans-serif;
        }
    </style>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- React & Dependencies from CDN -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
</head>

<body>
    <div id="root"></div>
    
    <script>
        const { useState, useEffect } = React;
        const { createRoot } = ReactDOM;
        
        // Button Component
        const Button = ({ children, onClick, variant = 'default', size = 'default', className = '', disabled = false }) => {
            const baseClasses = 'inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50';
            
            const variants = {
                default: 'bg-primary text-primary-foreground hover:bg-primary/90',
                outline: 'border border-input bg-background hover:bg-accent hover:text-accent-foreground',
                ghost: 'hover:bg-accent hover:text-accent-foreground'
            };
            
            const sizes = {
                default: 'h-10 px-4 py-2',
                sm: 'h-9 rounded-md px-3',
                lg: 'h-11 rounded-md px-8'
            };
            
            const classes = `${baseClasses} ${variants[variant]} ${sizes[size]} ${className}`;
            
            return React.createElement('button', {
                className: classes,
                onClick,
                disabled
            }, children);
        };
        
        // Input Component
        const Input = ({ className = '', ...props }) => {
            const classes = `flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 ${className}`;
            
            return React.createElement('input', {
                className: classes,
                ...props
            });
        };
        
        // Card Components
        const Card = ({ className = '', children }) => {
            const classes = `rounded-lg border bg-card text-card-foreground shadow-sm ${className}`;
            return React.createElement('div', { className: classes }, children);
        };
        
        const CardHeader = ({ className = '', children }) => {
            const classes = `flex flex-col space-y-1.5 p-6 ${className}`;
            return React.createElement('div', { className: classes }, children);
        };
        
        const CardTitle = ({ className = '', children }) => {
            const classes = `text-2xl font-semibold leading-none tracking-tight ${className}`;
            return React.createElement('h3', { className: classes }, children);
        };
        
        const CardContent = ({ className = '', children }) => {
            const classes = `p-6 pt-0 ${className}`;
            return React.createElement('div', { className: classes }, children);
        };
        
        // Badge Component
        const Badge = ({ variant = 'default', className = '', children }) => {
            const baseClasses = 'inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2';
            
            const variants = {
                default: 'border-transparent bg-primary text-primary-foreground hover:bg-primary/80',
                secondary: 'border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80'
            };
            
            const classes = `${baseClasses} ${variants[variant]} ${className}`;
            
            return React.createElement('div', { className: classes }, children);
        };
        
        // Icons (using simple SVG)
        const FileText = ({ className = '' }) => {
            return React.createElement('svg', {
                className: `w-4 h-4 ${className}`,
                fill: 'none',
                stroke: 'currentColor',
                viewBox: '0 0 24 24'
            }, React.createElement('path', {
                strokeLinecap: 'round',
                strokeLinejoin: 'round',
                strokeWidth: 2,
                d: 'M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z'
            }));
        };
        
        const Save = ({ className = '' }) => {
            return React.createElement('svg', {
                className: `w-4 h-4 ${className}`,
                fill: 'none',
                stroke: 'currentColor',
                viewBox: '0 0 24 24'
            }, React.createElement('path', {
                strokeLinecap: 'round',
                strokeLinejoin: 'round',
                strokeWidth: 2,
                d: 'M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4'
            }));
        };
        
        const Trash2 = ({ className = '' }) => {
            return React.createElement('svg', {
                className: `w-4 h-4 ${className}`,
                fill: 'none',
                stroke: 'currentColor',
                viewBox: '0 0 24 24'
            }, React.createElement('path', {
                strokeLinecap: 'round',
                strokeLinejoin: 'round',
                strokeWidth: 2,
                d: 'M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16'
            }));
        };
        
        const Plus = ({ className = '' }) => {
            return React.createElement('svg', {
                className: `w-4 h-4 ${className}`,
                fill: 'none',
                stroke: 'currentColor',
                viewBox: '0 0 24 24'
            }, React.createElement('path', {
                strokeLinecap: 'round',
                strokeLinejoin: 'round',
                strokeWidth: 2,
                d: 'M12 4v16m8-8H4'
            }));
        };
        
        const Folder = ({ className = '' }) => {
            return React.createElement('svg', {
                className: `w-6 h-6 ${className}`,
                fill: 'none',
                stroke: 'currentColor',
                viewBox: '0 0 24 24'
            }, React.createElement('path', {
                strokeLinecap: 'round',
                strokeLinejoin: 'round',
                strokeWidth: 2,
                d: 'M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z'
            }));
        };
        
        const Settings = ({ className = '' }) => {
            return React.createElement('svg', {
                className: `w-4 h-4 ${className}`,
                fill: 'none',
                stroke: 'currentColor',
                viewBox: '0 0 24 24'
            }, React.createElement('path', {
                strokeLinecap: 'round',
                strokeLinejoin: 'round',
                strokeWidth: 2,
                d: 'M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z'
            }), React.createElement('path', {
                strokeLinecap: 'round',
                strokeLinejoin: 'round',
                strokeWidth: 2,
                d: 'M15 12a3 3 0 11-6 0 3 3 0 016 0z'
            }));
        };
        
        // Simple toast function
        const toast = {
            success: (message) => {
                console.log('SUCCESS:', message);
                alert('Success: ' + message);
            },
            error: (message) => {
                console.log('ERROR:', message);
                alert('Error: ' + message);
            }
        };
        
        // Settings Modal Component
        const SettingsModal = ({ isOpen, onClose, githubPAT, setGithubPAT, githubRepo, setGithubRepo, onSave }) => {
            if (!isOpen) return null;
            
            const handleSave = () => {
                localStorage.setItem('github_pat', githubPAT);
                localStorage.setItem('github_repo', githubRepo);
                onSave();
                onClose();
                toast.success('Settings saved successfully!');
            };
            
            return React.createElement('div', {
                className: 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50'
            }, React.createElement('div', {
                className: 'bg-white rounded-lg p-6 w-96 max-w-md'
            }, [
                React.createElement('h2', {
                    key: 'title',
                    className: 'text-xl font-semibold mb-4'
                }, 'GitHub Settings'),
                
                React.createElement('div', {
                    key: 'pat-section',
                    className: 'mb-4'
                }, [
                    React.createElement('label', {
                        key: 'pat-label',
                        className: 'block text-sm font-medium mb-2'
                    }, 'GitHub Personal Access Token'),
                    React.createElement(Input, {
                        key: 'pat-input',
                        type: 'password',
                        value: githubPAT,
                        onChange: (e) => setGithubPAT(e.target.value),
                        placeholder: 'ghp_xxxxxxxxxxxx'
                    })
                ]),
                
                React.createElement('div', {
                    key: 'repo-section',
                    className: 'mb-6'
                }, [
                    React.createElement('label', {
                        key: 'repo-label',
                        className: 'block text-sm font-medium mb-2'
                    }, 'GitHub Repository'),
                    React.createElement(Input, {
                        key: 'repo-input',
                        type: 'text',
                        value: githubRepo,
                        onChange: (e) => setGithubRepo(e.target.value),
                        placeholder: 'username/repository-name'
                    })
                ]),
                
                React.createElement('div', {
                    key: 'buttons',
                    className: 'flex gap-2 justify-end'
                }, [
                    React.createElement(Button, {
                        key: 'cancel',
                        variant: 'outline',
                        onClick: onClose
                    }, 'Cancel'),
                    React.createElement(Button, {
                        key: 'save',
                        onClick: handleSave
                    }, 'Save')
                ])
            ]));
        };
        
        // Main CodeEditor Component
        const CodeEditor = ({ accessKey }) => {
            const [files, setFiles] = useState([]);
            const [activeFile, setActiveFile] = useState(null);
            const [newFileName, setNewFileName] = useState('');
            const [isCreating, setIsCreating] = useState(false);
            const [isSettingsOpen, setIsSettingsOpen] = useState(false);
            const [githubPAT, setGithubPAT] = useState('');
            const [githubRepo, setGithubRepo] = useState('');
            const [loading, setLoading] = useState(false);

            useEffect(() => {
                const savedPAT = localStorage.getItem('github_pat');
                const savedRepo = localStorage.getItem('github_repo');
                if (savedPAT) setGithubPAT(savedPAT);
                if (savedRepo) setGithubRepo(savedRepo);
                
                if (savedPAT && savedRepo) {
                    loadFiles();
                }
            }, [accessKey]);

            const getLanguageFromFileName = (fileName) => {
                const ext = fileName.split('.').pop()?.toLowerCase();
                const languageMap = {
                    'js': 'javascript',
                    'ts': 'typescript',
                    'jsx': 'javascript',
                    'tsx': 'typescript',
                    'py': 'python',
                    'java': 'java',
                    'cpp': 'cpp',
                    'c': 'c',
                    'html': 'html',
                    'css': 'css',
                    'json': 'json',
                    'md': 'markdown',
                    'txt': 'text'
                };
                return languageMap[ext || ''] || 'text';
            };

            const loadFiles = async () => {
                if (!githubPAT || !githubRepo) return;
                
                setLoading(true);
                try {
                    console.log('Loading files from:', `${githubRepo}/contents/code/${accessKey}`);
                    
                    const response = await fetch(`https://api.github.com/repos/${githubRepo}/contents/code/${accessKey}`, {
                        headers: {
                            'Authorization': `Bearer ${githubPAT}`,
                            'Accept': 'application/vnd.github.v3+json'
                        }
                    });

                    if (response.ok) {
                        const data = await response.json();
                        const filePromises = data
                            .filter((item) => item.type === 'file')
                            .map(async (item) => {
                                const fileResponse = await fetch(item.download_url);
                                const content = await fileResponse.text();
                                return {
                                    name: item.name,
                                    content,
                                    language: getLanguageFromFileName(item.name)
                                };
                            });
                        
                        const loadedFiles = await Promise.all(filePromises);
                        setFiles(loadedFiles);
                        console.log('Loaded files:', loadedFiles.length);
                    } else if (response.status === 404) {
                        console.log('Directory does not exist yet, starting with empty file list');
                        setFiles([]);
                    } else {
                        console.error('Error loading files:', response.status);
                        toast.error('Failed to load files from GitHub');
                    }
                } catch (error) {
                    console.error('Error loading files:', error);
                    setFiles([]);
                    toast.error('Failed to connect to GitHub');
                } finally {
                    setLoading(false);
                }
            };

            const saveFile = async (file) => {
                if (!githubPAT || !githubRepo) {
                    toast.error('Please configure GitHub settings first');
                    setIsSettingsOpen(true);
                    return;
                }

                setLoading(true);
                try {
                    let sha = '';
                    try {
                        const existingResponse = await fetch(`https://api.github.com/repos/${githubRepo}/contents/code/${accessKey}/${file.name}`, {
                            headers: {
                                'Authorization': `Bearer ${githubPAT}`,
                                'Accept': 'application/vnd.github.v3+json'
                            }
                        });
                        if (existingResponse.ok) {
                            const existingData = await existingResponse.json();
                            sha = existingData.sha;
                        }
                    } catch (error) {
                        console.log('File does not exist yet, will create new file');
                    }

                    const content = btoa(unescape(encodeURIComponent(file.content)));
                    const payload = {
                        message: `Save ${file.name} via Code Depot`,
                        content,
                        ...(sha && { sha })
                    };

                    const response = await fetch(`https://api.github.com/repos/${githubRepo}/contents/code/${accessKey}/${file.name}`, {
                        method: 'PUT',
                        headers: {
                            'Authorization': `Bearer ${githubPAT}`,
                            'Content-Type': 'application/json',
                            'Accept': 'application/vnd.github.v3+json'
                        },
                        body: JSON.stringify(payload)
                    });

                    if (response.ok) {
                        toast.success(`${file.name} saved successfully!`);
                        await loadFiles();
                    } else {
                        const errorData = await response.json();
                        console.error('Save failed:', response.status, errorData);
                        toast.error(`Failed to save: ${errorData.message || 'Unknown error'}`);
                    }
                } catch (error) {
                    console.error('Error saving file:', error);
                    toast.error('Failed to save file');
                } finally {
                    setLoading(false);
                }
            };

            const deleteFile = async (fileName) => {
                if (!githubPAT || !githubRepo) return;

                setLoading(true);
                try {
                    const response = await fetch(`https://api.github.com/repos/${githubRepo}/contents/code/${accessKey}/${fileName}`, {
                        headers: {
                            'Authorization': `Bearer ${githubPAT}`,
                            'Accept': 'application/vnd.github.v3+json'
                        }
                    });

                    if (response.ok) {
                        const data = await response.json();
                        
                        await fetch(`https://api.github.com/repos/${githubRepo}/contents/code/${accessKey}/${fileName}`, {
                            method: 'DELETE',
                            headers: {
                                'Authorization': `Bearer ${githubPAT}`,
                                'Content-Type': 'application/json',
                                'Accept': 'application/vnd.github.v3+json'
                            },
                            body: JSON.stringify({
                                message: `Delete ${fileName}`,
                                sha: data.sha
                            })
                        });

                        setFiles(files.filter(f => f.name !== fileName));
                        if (activeFile?.name === fileName) {
                            setActiveFile(null);
                        }
                        toast.success(`${fileName} deleted successfully!`);
                    }
                } catch (error) {
                    console.error('Error deleting file:', error);
                    toast.error('Failed to delete file');
                } finally {
                    setLoading(false);
                }
            };

            const createFile = () => {
                if (!newFileName.trim()) return;
                
                const newFile = {
                    name: newFileName,
                    content: '',
                    language: getLanguageFromFileName(newFileName)
                };
                
                setFiles([...files, newFile]);
                setActiveFile(newFile);
                setNewFileName('');
                setIsCreating(false);
            };

            const updateFileContent = (content) => {
                if (!activeFile) return;
                
                const updatedFile = { ...activeFile, content };
                setActiveFile(updatedFile);
                
                setFiles(files.map(f => f.name === activeFile.name ? updatedFile : f));
            };
            
            return React.createElement('div', {
                className: 'min-h-screen bg-gray-50'
            }, [
                // Header
                React.createElement('header', {
                    key: 'header',
                    className: 'border-b bg-white sticky top-0 z-40'
                }, React.createElement('div', {
                    className: 'container mx-auto px-4 py-4 flex items-center justify-between'
                }, [
                    React.createElement('div', {
                        key: 'title-section',
                        className: 'flex items-center gap-3'
                    }, [
                        React.createElement(Folder, { key: 'folder-icon' }),
                        React.createElement('h1', {
                            key: 'title',
                            className: 'text-xl font-semibold'
                        }, 'Code Depot'),
                        React.createElement(Badge, {
                            key: 'badge',
                            variant: 'secondary'
                        }, `Key: ${accessKey.slice(0, 8)}...`)
                    ]),
                    React.createElement(Button, {
                        key: 'settings-btn',
                        variant: 'outline',
                        onClick: () => setIsSettingsOpen(true)
                    }, [
                        React.createElement(Settings, { key: 'settings-icon' }),
                        ' Settings'
                    ])
                ])),
                
                // Main Content
                React.createElement('div', {
                    key: 'main-content',
                    className: 'container mx-auto px-4 py-6'
                }, React.createElement('div', {
                    className: 'grid grid-cols-1 lg:grid-cols-4 gap-6'
                }, [
                    // File Explorer
                    React.createElement(Card, {
                        key: 'file-explorer',
                        className: 'lg:col-span-1 h-fit'
                    }, [
                        React.createElement(CardHeader, {
                            key: 'explorer-header',
                            className: 'pb-3'
                        }, React.createElement(CardTitle, {
                            className: 'text-sm flex items-center justify-between'
                        }, [
                            'Files',
                            React.createElement(Button, {
                                key: 'add-file-btn',
                                variant: 'ghost',
                                onClick: () => setIsCreating(true),
                                className: 'h-6 w-6 p-0'
                            }, React.createElement(Plus))
                        ])),
                        React.createElement(CardContent, {
                            key: 'explorer-content',
                            className: 'space-y-2'
                        }, [
                            isCreating && React.createElement('div', {
                                key: 'create-file',
                                className: 'flex gap-2 mb-3'
                            }, [
                                React.createElement(Input, {
                                    key: 'filename-input',
                                    placeholder: 'filename.js',
                                    value: newFileName,
                                    onChange: (e) => setNewFileName(e.target.value),
                                    onKeyDown: (e) => e.key === 'Enter' && createFile(),
                                    className: 'h-8 text-sm',
                                    autoFocus: true
                                }),
                                React.createElement(Button, {
                                    key: 'create-btn',
                                    onClick: createFile,
                                    className: 'h-8 px-2'
                                }, React.createElement(Plus))
                            ]),
                            
                            ...files.map((file) => React.createElement('div', {
                                key: file.name,
                                className: `flex items-center justify-between p-2 rounded-md cursor-pointer transition-colors ${
                                    activeFile?.name === file.name
                                        ? 'bg-blue-100 text-blue-700'
                                        : 'hover:bg-gray-100'
                                }`,
                                onClick: () => setActiveFile(file)
                            }, [
                                React.createElement('div', {
                                    key: 'file-info',
                                    className: 'flex items-center gap-2 min-w-0'
                                }, [
                                    React.createElement(FileText, { key: 'file-icon' }),
                                    React.createElement('span', {
                                        key: 'file-name',
                                        className: 'text-sm truncate'
                                    }, file.name)
                                ]),
                                React.createElement(Button, {
                                    key: 'delete-btn',
                                    variant: 'ghost',
                                    onClick: (e) => {
                                        e.stopPropagation();
                                        deleteFile(file.name);
                                    },
                                    className: 'h-6 w-6 p-0'
                                }, React.createElement(Trash2))
                            ])),
                            
                            files.length === 0 && !loading && React.createElement('p', {
                                key: 'no-files',
                                className: 'text-sm text-gray-500 text-center py-4'
                            }, 'No files yet. Create your first file!')
                        ])
                    ]),
                    
                    // Code Editor
                    React.createElement(Card, {
                        key: 'code-editor',
                        className: 'lg:col-span-3'
                    }, [
                        React.createElement(CardHeader, {
                            key: 'editor-header',
                            className: 'pb-3'
                        }, React.createElement('div', {
                            className: 'flex items-center justify-between'
                        }, [
                            React.createElement(CardTitle, {
                                key: 'editor-title',
                                className: 'text-sm'
                            }, activeFile ? activeFile.name : 'Select a file to edit'),
                            activeFile && React.createElement(Button, {
                                key: 'save-btn',
                                onClick: () => saveFile(activeFile),
                                disabled: loading
                            }, [
                                React.createElement(Save, { key: 'save-icon' }),
                                ' Save'
                            ])
                        ])),
                        React.createElement(CardContent, {
                            key: 'editor-content'
                        }, activeFile ? React.createElement('div', {
                            className: 'space-y-4'
                        }, [
                            React.createElement('textarea', {
                                key: 'code-textarea',
                                value: activeFile.content,
                                onChange: (e) => updateFileContent(e.target.value),
                                className: 'w-full h-96 p-4 font-mono text-sm bg-gray-50 border border-gray-300 rounded-md resize-none focus:outline-none focus:ring-2 focus:ring-blue-500',
                                placeholder: `Start coding in ${activeFile.name}...`
                            }),
                            React.createElement('div', {
                                key: 'file-info',
                                className: 'flex items-center justify-between text-xs text-gray-500'
                            }, [
                                React.createElement('span', {
                                    key: 'language'
                                }, `Language: ${activeFile.language}`),
                                React.createElement('span', {
                                    key: 'lines'
                                }, `Lines: ${activeFile.content.split('\n').length}`)
                            ])
                        ]) : React.createElement('div', {
                            className: 'flex items-center justify-center h-96 text-gray-500'
                        }, React.createElement('div', {
                            className: 'text-center'
                        }, [
                            React.createElement(FileText, {
                                key: 'empty-icon',
                                className: 'w-12 h-12 mx-auto mb-4 opacity-50'
                            }),
                            React.createElement('p', {
                                key: 'empty-text'
                            }, 'Select a file from the sidebar to start editing')
                        ])))
                    ])
                ])),
                
                // Settings Modal
                React.createElement(SettingsModal, {
                    key: 'settings-modal',
                    isOpen: isSettingsOpen,
                    onClose: () => setIsSettingsOpen(false),
                    githubPAT,
                    setGithubPAT,
                    githubRepo,
                    setGithubRepo,
                    onSave: loadFiles
                })
            ]);
        };
        
        // Main App Component
        const App = () => {
            return React.createElement(CodeEditor, {
                accessKey: 'demo123'
            });
        };
        
        // Render the app
        console.log('Starting app...');
        
        const rootElement = document.getElementById('root');
        if (rootElement) {
            const root = createRoot(rootElement);
            root.render(React.createElement(App));
            console.log('App rendered successfully');
        } else {
            console.error('Root element not found!');
        }
    </script>
</body>
</html>
